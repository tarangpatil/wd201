<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Registration Form</title>
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet"
        />
    </head>

    <body class="bg-gray-100 p-8">
        <div class="max-w-md mx-auto bg-white p-6 rounded-md shadow-md">
            <h2 class="text-2xl font-semibold mb-6">Registration Form</h2>
            <form action="#" method="post">
                <!-- Name Field -->
                <div class="mb-4">
                    <label
                        for="name"
                        class="block text-gray-700 text-sm font-bold mb-2"
                        >Name</label
                    >
                    <input
                        type="text"
                        id="name"
                        name="name"
                        class="border-2 border-gray-300 p-2 w-full rounded-md focus:outline-none focus:border-blue-500"
                        required
                    />
                </div>

                <!-- Email Field -->
                <div class="mb-4">
                    <label
                        for="email"
                        class="block text-gray-700 text-sm font-bold mb-2"
                        >Email</label
                    >
                    <input
                        type="email"
                        id="email"
                        name="email"
                        class="border-2 border-gray-300 p-2 w-full rounded-md focus:outline-none focus:border-blue-500"
                        required
                    />
                </div>

                <!-- Password Field -->
                <div class="mb-4">
                    <label
                        for="password"
                        class="block text-gray-700 text-sm font-bold mb-2"
                        >Password</label
                    >
                    <input
                        type="password"
                        id="password"
                        name="password"
                        class="border-2 border-gray-300 p-2 w-full rounded-md focus:outline-none focus:border-blue-500"
                        required
                    />
                </div>

                <!-- Date of Birth Field -->
                <div class="mb-4">
                    <label
                        for="dob"
                        class="block text-gray-700 text-sm font-bold mb-2"
                        >Date of Birth</label
                    >
                    <input
                        type="date"
                        id="dob"
                        name="dob"
                        max="2005-11-21"
                        min="1968-11-21"
                        class="border-2 border-gray-300 p-2 w-full rounded-md focus:outline-none focus:border-blue-500"
                        required
                    />
                </div>

                <!-- Accept Terms & Conditions Checkbox -->
                <div class="mb-4">
                    <input
                        type="checkbox"
                        id="acceptTerms"
                        name="acceptTerms"
                        class="mr-2"
                        required
                    />
                    <label
                        for="acceptTerms"
                        class="text-gray-700 text-sm font-bold"
                        >Accept Terms & Conditions</label
                    >
                </div>

                <!-- Submit Button -->
                <button
                    type="submit"
                    class="bg-blue-500 text-white p-2 rounded-md hover:bg-blue-600 focus:outline-none focus:shadow-outline-blue"
                >
                    Submit
                </button>
            </form>
        </div>
        <!-- Table -->
        <table class="mt-8 w-full border-collapse border border-gray-100">
            <!-- Table Header -->
            <thead>
                <tr>
                    <th class="py-2 px-4 border-b bg-gray-100">Name</th>
                    <th class="py-2 px-4 border-b bg-gray-100">Email</th>
                    <th class="py-2 px-4 border-b bg-gray-100">Password</th>
                    <th class="py-2 px-4 border-b bg-gray-100">Dob</th>
                    <th class="py-2 px-4 border-b bg-gray-100">
                        Accepted terms?
                    </th>
                    <!-- Add more headers as needed -->
                </tr>
            </thead>

            <tbody>
                <tr></tr>
                <tr></tr>
            </tbody>
        </table>
    </body>
<script>
        let db = [];

if (localStorage.getItem("data") !== null) {
    db = JSON.parse(localStorage.getItem("data"));
    for (let i = db.length - 1; i >= 0; i--) {
        addData(
            db[i].name,
            db[i].email,
            db[i].password,
            db[i].dob,
            db[i].acceptTerms
        );
    }
}

document.querySelector("form").onsubmit = (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);

    addData(
        formData.get("name"),
        formData.get("email"),
        formData.get("password"),
        formData.get("dob"),
        formData.get("acceptTerms")
    );

    db.unshift({
        name: formData.get("name"),
        email: formData.get("email"),
        password: formData.get("password"),
        dob: formData.get("dob"),
        acceptTerms: formData.get("acceptTerms"),
    });

    localStorage.setItem("data", JSON.stringify(db));
};

function addData(name, email, password, dob, termsAccepted) {
    const table = document.querySelector("table");
    const newRow = table.insertRow(1);

    const newCell0 = newRow.insertCell(0);
    const newCell1 = newRow.insertCell(1);
    const newCell2 = newRow.insertCell(2);
    const newCell3 = newRow.insertCell(3);
    const newCell4 = newRow.insertCell(4);

    newCell0.className =
        newCell1.className =
        newCell2.className =
        newCell3.className =
        newCell4.className =
            "py-2 px-4 border-b text-center";

    newCell0.textContent = name;
    newCell1.textContent = email;
    newCell2.textContent = password;
    newCell3.textContent = dob;
    newCell4.textContent = termsAccepted === "on";
}

    </script>
</html>
